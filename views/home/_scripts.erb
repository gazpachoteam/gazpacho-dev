<script>
  document.addEventListener('DOMContentLoaded', function() {
    const header = document.getElementById('main-header');
    const logo = document.getElementById('main-logo');
    function onScroll() {
      if (window.scrollY > 10) {
        header.classList.add('bg-white', 'shadow', 'h-10', 'pt-6', 'pb-6', 'scrolled');
        header.classList.remove('whiteboard-bg', 'h-14');
        logo.classList.add('h-8', 'w-8');
        logo.classList.remove('h-10', 'w-10');
      } else {
        header.classList.remove('bg-white', 'shadow', 'h-10', 'pt-6', 'pb-6', 'scrolled');
        header.classList.add('whiteboard-bg', 'h-14');
        logo.classList.remove('h-8', 'w-8');
        logo.classList.add('h-10', 'w-10');
      }
    }
    window.addEventListener('scroll', onScroll);

    const menu = document.getElementById('mobile-menu');
    const openBtn = document.getElementById('open-mobile-menu');
    const closeBtn = document.getElementById('close-mobile-menu');
    const backdrop = document.getElementById('mobile-backdrop');
    if (openBtn && menu) {
      openBtn.addEventListener('click', function() {
        menu.classList.remove('translate-x-full', 'opacity-0');
        menu.classList.add('translate-x-0', 'opacity-100');
        if (backdrop) {
          backdrop.classList.remove('opacity-0', 'pointer-events-none');
          backdrop.classList.add('opacity-100', 'pointer-events-auto');
        }
      });
    }
    if (closeBtn && menu) {
      closeBtn.addEventListener('click', function() {
        menu.classList.remove('translate-x-0', 'opacity-100');
        menu.classList.add('translate-x-full', 'opacity-0');
        if (backdrop) {
          backdrop.classList.remove('opacity-100', 'pointer-events-auto');
          backdrop.classList.add('opacity-0', 'pointer-events-none');
        }
      });
    }
    // Add: close menu when clicking any menu item in the mobile menu
    if (menu) {
      const menuLinks = menu.querySelectorAll('a');
      menuLinks.forEach(link => {
        link.addEventListener('click', function() {
          menu.classList.remove('translate-x-0', 'opacity-100');
          menu.classList.add('translate-x-full', 'opacity-0');
          if (backdrop) {
            backdrop.classList.remove('opacity-100', 'pointer-events-auto');
            backdrop.classList.add('opacity-0', 'pointer-events-none');
          }
        });
      });
    }
  });
</script>